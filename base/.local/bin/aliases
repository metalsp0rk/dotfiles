#!/bin/bash

FILES=$HOME/.config/files
COMMANDS=$HOME/.config/commands

if [ -f $FILES ]; then
    while read SCR; do
        SCRARR=($SCR)
        echo "shortcut: ${SCRARR[0]}, SCRIPT: ${SCRARR[1]}"
        owner2=""
        if [[ ${SCRARR[1]} == ~* ]]; then
            owner2=$USER
            echo "nnormaledit"
        else
            echo "sudoedit"
            owner2="$(stat --format '%U' "${SCRARR[1]}")"
        fi
        if [ "x${owner2}" = "x${USER}" ]; then
            alias ${SCRARR[0]}="vim ${SCRARR[1]}"
        else
            alias ${SCRARR[0]}="sudoedit ${SCRARR[1]}"
        fi
    done <$FILES
fi

if [ -f $FILES ]; then
    while read SCR; do
        SCRARR=($SCR)
        echo "shortcut: ${SCRARR[0]}, COMMAND: ${SCRARR[1]}"
        alias ${SCRARR[0]}="${SCRARR[1]}"
    done <$COMMANDS
fi
